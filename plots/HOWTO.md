Here you can find the scripts and instructions for reproducing all the figures in my thesis.
I use matplotlib.pyplot for everything described here.
Otherwise, the plots require input data, which is based on the CSV files generated by scripts as described in the top-level [README](../README.md).

# Ratings Overview

This plot shows the a-priori distribution of final player ratings with different colors for DDK, SDK and DAN categories.
It can show the distribution of final rank predictions from any rating system, but in the thesis we use the result of the Glicko-2 system.
Pass the file name to the script `ratings.py`:

```
python3 plots/ratings.py csv/games_glicko.csv
```

# Points Loss Overview

This plot shows the a-priori distribution of points loss per move with different ranking categories.
First, get the rating labels and points loss for every move in the dataset using `datasetviewer`, then pass the file name to the script `ploss_rating.py`:

```
$ datasetviewer/datasetviewer csv/games_labels.csv featurecache
Dataset Viewer: 1890 games read from csv/games_labels.csv (with features), ready.
> dump csv/data-ploss.csv moves rating ploss
Write to csv/data-ploss.csv...
Done.
> exit
Dataset Viewer: bye!
$ python3 plots/ploss_rating.py csv/data-ploss.csv
```
# Winrate Loss Overview

Like the points loss plot, this shows the a-priori distribution of winrate loss per move with different ranking categories. The steps are the same.
First, get the rating labels and winrate loss for every move in the dataset using `datasetviewer`, then pass the file name to the script `ploss_rating.py`:

```
$ datasetviewer/datasetviewer csv/games_labels.csv featurecache
Dataset Viewer: 1890 games read from csv/games_labels.csv (with features), ready.
> dump csv/data-wrloss.csv moves rating wrloss
Write to csv/data-wrloss.csv...
Done.
> exit
Dataset Viewer: bye!
$ python3 plots/wrloss_rating.py csv/data-wrloss.csv
```

# Glicko-2 Confidence

This script creates two plots to show the progression of ratings under Glicko-2 after a certain number of games.
It sources its data from the result as described in the main README, Section “Glicko-2 Calculation”.

The first plot shows how the rating *deviation* develops over games. The second plot shows histograms of the rating distribution over games.

```
$ python3 plots/deviation.py csv/games_glicko.csv
```

# Model vs Label

This script creates plots which illustrate the estimates produced by our models compared with the labels on the games.
It sources its data from the result as described in the main README. The input CSV file needs to have the columns "BlackRating", "PredictedBlackRating", "WhiteRating", "PredictedWhiteRating", "Score" and "PredictedScore".

The second parameter to the script just gives it a model name to use in the figure title.

```
$ python3 plots/estimate_vs_label.py csv/games_glicko.csv Glicko-2
```

# Neural Network Visualization

These are plots of the strength model network's activations and gradients. Then a plot of the network's output distribution, compared to the training label distribution.

```
$ PYTHONPATH=python python3 plots/netvis.py csv/games_labels.csv featurecache --net nets/model.pth --index 10 --featurename pick
```

If the `--net` parameter is unspecified, the net will be randomly initialized.
The optional `--index` parameter indicates which item from the training set should be passed through the network (always black recent moves). If unspecified, the first item is used by default.
The optional `--featurename` parameter indicates which feature type from the dataset should be used (`trunk`, `pick` or `head`).
